---
/* src/components/Callout.astro */

interface Props {
	type?: "note" | "tip" | "warning" | "danger";
	title?: string;
	icon?: string;
}

const { type = "note", title, icon } = Astro.props;

const configs = {
	note: {
		colorClass: "text-brand-light border-brand-light bg-brand-light/10",
		defaultIcon: "üìù",
		defaultTitle: "Note",
	},
	tip: {
		colorClass: "text-brand border-brand bg-brand/10",
		defaultIcon: "üí°",
		defaultTitle: "Tip",
	},
	warning: {
		colorClass: "text-brand-dark border-brand-dark bg-brand-dark/10",
		defaultIcon: "‚ö†Ô∏è",
		defaultTitle: "Warning",
	},
	danger: {
		colorClass: "text-red-500 border-red-500 bg-red-500/10",
		defaultIcon: "üî•",
		defaultTitle: "Danger",
	},
};

const config = configs[type] || configs.note;
const finalIcon = icon || config.defaultIcon;
const finalTitle = title || config.defaultTitle;
---

<div class={`my-6 w-full rounded-r-lg border-l-4 p-4 ${config.colorClass} border-opacity-100 bg-opacity-20`}>
	<div class="flex items-center gap-2 mb-2 font-bold uppercase tracking-wider text-sm select-none">
		<span class="text-lg leading-none">{finalIcon}</span>
		<span>{finalTitle}</span>
	</div>
	<div class="prose-p:my-0 text-text-main">
		<slot />
	</div>
</div>